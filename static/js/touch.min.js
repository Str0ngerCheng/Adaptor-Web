/*
 touchjs v0.2.14  2014-08-05 */
 (function(h,c){"function"===typeof define&&(define.amd||define.cmd)?define(c):window.touch=c()})(this,function(){var h,c={PCevts:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touchcancel:"mouseout"}};c.hasTouch="ontouchstart"in window;c.getType=function(a){return Object.prototype.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()};c.getSelector=function(a){return a.id?"#"+a.id:a.className?"."+a.className.split(/\s+/).join("."):a===document?"body":a.tagName.toLowerCase()};
 c.matchSelector=function(a,b){return a.webkitMatchesSelector(b)};c.getEventListeners=function(a){return a.listeners};c.getPCevts=function(a){return this.PCevts[a]||a};c.forceReflow=function(){var a=document.getElementById("reflowDivBlock");a||(a=document.createElement("div"),a.id="reflowDivBlock",document.body.appendChild(a));var b=a.parentNode,d=a.nextSibling;b.removeChild(a);b.insertBefore(a,d)};c.simpleClone=function(a){return Object.create(a)};c.getPosOfEvent=function(a){if(this.hasTouch){for(var b=
 [],d,c=0,e=a.touches.length;c<e;c++)d=a.touches[c],b.push({x:d.pageX,y:d.pageY});return b}return[{x:a.pageX,y:a.pageY}]};c.getDistance=function(a,b){var d=b.x-a.x;a=b.y-a.y;return Math.sqrt(d*d+a*a)};c.getFingers=function(a){return a.touches?a.touches.length:1};c.calScale=function(a,b){return 2<=a.length&&2<=b.length?(a=this.getDistance(a[1],a[0]),this.getDistance(b[1],b[0])/a):1};c.getAngle=function(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI};c.getAngle180=function(a,b){a=180/Math.PI*Math.atan(-1*
 (b.y-a.y)/(b.x-a.x));return 0>a?a+180:a};c.getDirectionFromAngle=function(a){a={up:-45>a&&-135<a,down:45<=a&&135>a,left:135<=a||-135>=a,right:-45<=a&&45>=a};for(var b in a)if(a[b])return b;return null};c.getXYByElement=function(a){for(var b=0,d=0;a.offsetParent;)b+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;return{left:b,top:d}};c.reset=function(){E=F=t=x=y=!1;m=h=void 0;u=!1};c.isTouchMove=function(a){return"touchmove"===a.type||"mousemove"===a.type};c.isTouchEnd=function(a){return"touchend"===
 a.type||"mouseup"===a.type||"touchcancel"===a.type};c.env=function(){var a={},b=navigator.userAgent,d=b.match(/(Android)[\s\/]+([\d\.]+)/),c=b.match(/(iPad|iPhone|iPod)\s+OS\s([\d_\.]+)/),e=b.match(/(Windows\s+Phone)\s([\d\.]+)/),p=/WebKit\/[\d.]+/i.test(b);b=c?navigator.standalone?p:/Safari/i.test(b)&&!/CriOS/i.test(b)&&!/MQQBrowser/i.test(b):!1;d&&(a.android=!0,a.version=d[2]);c&&(a.ios=!0,a.version=c[2].replace(/_/g,"."),a.ios7=/^7/.test(a.version),"iPad"===c[1]?a.ipad=!0:"iPhone"===c[1]?(a.iphone=
 !0,a.iphone5=568==screen.height):"iPod"===c[1]&&(a.ipod=!0));e&&(a.wp=!0,a.version=e[2],a.wp8=/^8/.test(a.version));p&&(a.webkit=!0);b&&(a.safari=!0);return a}();var g={proxyid:0,proxies:[],trigger:function(a,b,c){c=c||{};var d={bubbles:!0,cancelable:!0,detail:c};try{if("undefined"!==typeof CustomEvent)var e=new CustomEvent(b,d);else e=document.createEvent("CustomEvent"),e.initCustomEvent(b,!0,!0,c);a&&a.dispatchEvent(e)}catch(p){console.warn("Touch.js is not supported by environment.")}},bind:function(a,
 b,d){a.listeners=a.listeners||{};a.listeners[b]?a.listeners[b].push(d):a.listeners[b]=[d];var f=function(a){c.env.ios7&&c.forceReflow();a.originEvent=a;for(var b in a.detail)"type"!==b&&(a[b]=a.detail[b]);a.startRotate=function(){u=!0};b=d.call(a.target,a);"undefined"===typeof b||b||(a.stopPropagation(),a.preventDefault())};d.proxy=d.proxy||{};d.proxy[b]?d.proxy[b].push(this.proxyid++):d.proxy[b]=[this.proxyid++];this.proxies.push(f);a.addEventListener&&a.addEventListener(b,f,!1)},unbind:function(a,
 b,c){c?(c=c.proxy[b])&&c.length&&c.forEach(function(c){a.removeEventListener&&a.removeEventListener(b,this.proxies[this.proxyid],!1)}):(c=a.listeners[b])&&c.length&&c.forEach(function(c){a.removeEventListener(b,c,!1)})},delegate:function(a,b,d,f){var e=function(b){b.originEvent=b;for(e in b.detail)"type"!==e&&(b[e]=b.detail[e]);b.startRotate=function(){u=!0};var e=c.getSelector(a)+" "+d;var g=c.matchSelector(b.target,e);var k=c.matchSelector(b.target,e+" "+b.target.nodeName);if(!g&&k){c.env.ios7&&
 c.forceReflow();for(g=b.target;!c.matchSelector(g,e);)g=g.parentNode;e=f.call(b.target,b);"undefined"===typeof e||e||(b.stopPropagation(),b.preventDefault())}else if(c.env.ios7&&c.forceReflow(),g||k)e=f.call(b.target,b),"undefined"===typeof e||e||(b.stopPropagation(),b.preventDefault())};f.proxy=f.proxy||{};f.proxy[b]?f.proxy[b].push(this.proxyid++):f.proxy[b]=[this.proxyid++];this.proxies.push(e);a.listeners=a.listeners||{};a.listeners[b]?a.listeners[b].push(e):a.listeners[b]=[e];a.addEventListener&&
 a.addEventListener(b,e,!1)},undelegate:function(a,b,c,f){f?(c=f.proxy[b],c.length&&c.forEach(function(c){a.removeEventListener&&a.removeEventListener(b,this.proxies[this.proxyid],!1)})):a.listeners[b].forEach(function(c){a.removeEventListener(b,c,!1)})}},l={tap:!0,doubleTap:!0,tapMaxDistance:10,hold:!0,tapTime:200,holdTime:650,maxDoubleTapInterval:300,swipe:!0,swipeTime:300,swipeMinDistance:18,swipeFactor:5,drag:!0,pinch:!0,minScaleRate:0,minRotationAngle:0};var m=h=null;var z=0,x=!1,y=!1,E=!1,A=
 {},t=!1,G=null,F=!1,H=null,w=1,u=!1,v=[],B=0,C=0,I=0,D=null,r={getAngleDiff:function(a){a=parseInt(B-c.getAngle180(a[0],a[1]),10);for(var b=0;90<Math.abs(a-C)&&50>b++;)a=0>C?a-180:a+180;return C=parseInt(a,10)},pinch:function(a){var b=a.target;if(l.pinch&&!(!t||2>c.getFingers(a)&&!c.isTouchEnd(a))){var d=c.calScale(h,m),f=this.getAngleDiff(m),e={type:"",originEvent:a,scale:d,rotation:f,direction:0<f?"right":"left",fingersCount:c.getFingers(a)};y?c.isTouchMove(a)?(e.fingerStatus="move",g.trigger(b,
 "pinch",e)):c.isTouchEnd(a)&&(e.fingerStatus="end",g.trigger(b,"pinchend",e),c.reset()):(y=!0,e.fingerStatus="start",g.trigger(b,"pinchstart",e));if(Math.abs(1-d)>l.minScaleRate){var p=c.simpleClone(e);d>w?(w=d-1E-11,g.trigger(b,"pinchout",p,!1)):d<w&&(w=d+1E-11,g.trigger(b,"pinchin",p,!1));c.isTouchEnd(a)&&(w=1)}Math.abs(f)>l.minRotationAngle&&(a=c.simpleClone(e),g.trigger(b,0<f?"rotateright":"rotateleft",a,!1),g.trigger(b,"rotate",e))}},rotateSingleFinger:function(a){var b=a.target;if(u&&2>c.getFingers(a)&&
 m){if(2>v.length){var d=c.getXYByElement(b);v=[{x:d.left+b.offsetWidth/2,y:d.top+b.offsetHeight/2},m[0]];B=parseInt(c.getAngle180(v[0],v[1]),10)}d=this.getAngleDiff([v[0],m[0]]);var f={type:"",originEvent:a,rotation:d,direction:0<d?"right":"left",fingersCount:c.getFingers(a)};if(c.isTouchMove(a))f.fingerStatus="move";else if(c.isTouchEnd(a)||"mouseout"===a.type)f.fingerStatus="end",g.trigger(b,"pinchend",f),c.reset();g.trigger(b,0<d?"rotateright":"rotateleft",f);g.trigger(b,"rotate",f)}},swipe:function(a){var b=
 a.target;if(t&&m&&!(1<c.getFingers(a))){var d=Date.now()-z,f=c.getDistance(h[0],m[0]),e={x:m[0].x-A.left,y:m[0].y-A.top},p=c.getAngle(h[0],m[0]),q=c.getDirectionFromAngle(p),n=d/1E3;n*=10*(10-l.swipeFactor)*n;var k={type:"swipe",originEvent:a,position:e,direction:q,distance:f,distanceX:m[0].x-h[0].x,distanceY:m[0].y-h[0].y,x:m[0].x-h[0].x,y:m[0].y-h[0].y,angle:p,duration:d,fingersCount:c.getFingers(a),factor:n};if(l.swipe)if(e=function(){switch(q){case "up":g.trigger(b,"swipeup",k);break;case "down":g.trigger(b,
 "swipedown",k);break;case "left":g.trigger(b,"swipeleft",k);break;case "right":g.trigger(b,"swiperight",k)}},!x)k.fingerStatus=k.swipe="start",x=!0,g.trigger(b,"swipestart",k);else if(c.isTouchMove(a))k.fingerStatus=k.swipe="move",g.trigger(b,"swiping",k),d>l.swipeTime&&d<l.swipeTime+50&&f>l.swipeMinDistance&&(e(),g.trigger(b,"swipe",k,!1));else if(c.isTouchEnd(a)||"mouseout"===a.type)k.fingerStatus=k.swipe="end",g.trigger(b,"swipeend",k),l.swipeTime>d&&f>l.swipeMinDistance&&(e(),g.trigger(b,"swipe",
 k,!1));l.drag&&(E?c.isTouchMove(a)?(k.fingerStatus=k.swipe="move",g.trigger(b,"drag",k)):c.isTouchEnd(a)&&(k.fingerStatus=k.swipe="end",g.trigger(b,"dragend",k)):(k.fingerStatus=k.swipe="start",E=!0,g.trigger(b,"dragstart",k)))}},tap:function(a){var b=a.target;if(l.tap){var d=Date.now(),f=d-z,e=c.getDistance(h[0],m?m[0]:h[0]);clearTimeout(G);D&&l.doubleTap&&z-I<l.maxDoubleTapInterval&&16>c.getDistance(D,h[0])?(clearTimeout(H),g.trigger(b,"doubletap",{type:"doubletap",originEvent:a,position:h[0]})):
 !(l.tapMaxDistance<e)&&l.holdTime>f&&1>=c.getFingers(a)&&(F=!0,I=d,D=h[0],H=setTimeout(function(){g.trigger(b,"tap",{type:"tap",originEvent:a,fingersCount:c.getFingers(a),position:D})},l.tapTime))}},hold:function(a){var b=a.target;l.hold&&(clearTimeout(G),G=setTimeout(function(){if(h){var d=c.getDistance(h[0],m?m[0]:h[0]);l.tapMaxDistance<d||F||g.trigger(b,"hold",{type:"hold",originEvent:a,fingersCount:c.getFingers(a),position:h[0]})}},l.holdTime))}},J=function(a){var b=a.target;switch(a.type){case "touchstart":case "mousedown":v=
 [];t=!0;if(!h||2>h.length)h=c.getPosOfEvent(a);2<=c.getFingers(a)&&(B=parseInt(c.getAngle180(h[0],h[1]),10));z=Date.now();A={};b=b.getBoundingClientRect();var d=document.documentElement;A={top:b.top+(window.pageYOffset||d.scrollTop)-(d.clientTop||0),left:b.left+(window.pageXOffset||d.scrollLeft)-(d.clientLeft||0)};r.hold(a);break;case "touchmove":case "mousemove":if(!t||!h)break;m=c.getPosOfEvent(a);2<=c.getFingers(a)?r.pinch(a):u?r.rotateSingleFinger(a):r.swipe(a);break;case "touchend":case "touchcancel":case "mouseup":case "mouseout":t&&
 (y?r.pinch(a):u?r.rotateSingleFinger(a):x?r.swipe(a):r.tap(a),c.reset(),C=B=0,a.touches&&1===a.touches.length&&(u=t=!0))}};(function(){(c.hasTouch?"touchstart touchmove touchend touchcancel":"mouseup mousedown mousemove mouseout").split(" ").forEach(function(a){document.addEventListener(a,J,!1)})})();var n={};n.on=n.bind=n.live=function(){function a(a){c.hasTouch||(a=c.getPCevts(a));f.forEach(function(b){g.delegate(b,a,l,q[a])})}function b(a){c.hasTouch||(a=c.getPCevts(a));f.forEach(function(b){g.bind(b,
 a,q[a])})}var d=arguments;if(2>d.length||4<d)return console.error("unexpected arguments!");var f="string"===c.getType(d[0])?document.querySelectorAll(d[0]):d[0];f=f.length?Array.prototype.slice.call(f):[f];if(3===d.length&&"string"===c.getType(d[1])){var e=d[1].split(" ");var h=d[2];e.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));f.forEach(function(b){g.bind(b,a,h)})})}else if(3===d.length&&"object"===c.getType(d[1])){var q=d[1];var l=d[2];for(e in q)a(e)}else if(2===d.length&&"object"===c.getType(d[1])){q=
 d[1];for(var k in q)b(k)}else if(4===d.length&&"object"===c.getType(d[2]))e=d[1].split(" "),h=d[3],e.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));f.forEach(function(b){g.bind(b,a,h)})});else if(4===d.length){var m=f[0];e=d[1].split(" ");l=d[2];h=d[3];e.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));g.delegate(m,a,l,h)})}};n.off=n.unbind=n.die=function(){var a,b=arguments;if(1>b.length||4<b.length)return console.error("unexpected arguments!");var d="string"===c.getType(b[0])?document.querySelectorAll(b[0]):
 b[0];d=d.length?Array.prototype.slice.call(d):[d];if(1===b.length||2===b.length)d.forEach(function(d){a=b[1]?b[1].split(" "):Object.keys(d.listeners);a.length&&a.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));g.unbind(d,a);g.undelegate(d,a)})});else if(3===b.length&&"function"===c.getType(b[2])){var f=b[2];d.forEach(function(d){a=b[1].split(" ");a.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));g.unbind(d,a,f)})})}else if(3===b.length&&"string"===c.getType(b[2])){var e=b[2];d.forEach(function(d){a=
 b[1].split(" ");a.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));g.undelegate(d,a,e)})})}else 4===b.length&&(f=b[3],d.forEach(function(d){a=b[1].split(" ");a.forEach(function(a){c.hasTouch||(a=c.getPCevts(a));g.undelegate(d,a,e,f)})}))};n.config=l;n.trigger=function(a,b,d){var f=arguments;c.hasTouch||(b=c.getPCevts(b));f="string"===c.getType(f[0])?document.querySelectorAll(f[0]):f[0];f=f.length?Array.prototype.call(f):[f];f.forEach(function(a){g.trigger(a,b,d)})};return n});